<!DOCTYPE html>
<html lang="en">
  <head>
        <title>Alexander Fabisch - LaTeX for Dissertations</title>
      <meta charset="utf-8" />
      <meta name="generator" content="Pelican" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://alexanderfabisch.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alexander Fabisch Full Atom Feed" />
        <link href="https://alexanderfabisch.github.io/feeds/blog.atom.xml" type="application/atom+xml" rel="alternate" title="Alexander Fabisch Categories Atom Feed" />

        <link rel="stylesheet" href="https://alexanderfabisch.github.io/theme/css/rdark.css" />
	<link rel="stylesheet" type="text/css" href="https://alexanderfabisch.github.io/theme/css/main.css" />
        <link href="https://alexanderfabisch.github.io/" type="application/atom+xml" rel="alternate" title="Alexander Fabisch ATOM Feed" /><!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	
<!-- Using MathJax, with the delimiters $ -->
<!-- Conflict with pygments for the .mo and .mi -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  "HTML-CSS": {
  styles: {
  ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
  },
  tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']],processEscapes: true}
  });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>





  </head>

  <body>
    <header>
      <hgroup><h1><a href="https://alexanderfabisch.github.io/">Alexander Fabisch</a></h1></hgroup>
      <nav><ul>
            <li><a href="https://alexanderfabisch.github.io/pages/about.html" >About</a></li>
            <li><a href="https://alexanderfabisch.github.io/pages/software.html" >Software</a></li>
            <li><a href="https://alexanderfabisch.github.io/pages/publications.html" >Publications</a></li>
            <li><a href="https://alexanderfabisch.github.io/pages/teaching.html" >Teaching</a></li>
            <li><a href="https://alexanderfabisch.github.io/category/blog.html"  aria-current="page" >Blog</a></li>
      </ul></nav>
    </header>
    <main>
  <article>
    <header>
      <h2>
        <a href="https://alexanderfabisch.github.io/latex-for-dissertations.html" rel="bookmark"
           title="Permalink to LaTeX for Dissertations">LaTeX for Dissertations</a></h2>
      
    </header>
    <p>Since writing a dissertation is usually something that you do only once,
I gathered a lot of knowledge that I probably won't need anymore. This is
a brief summary of how the LaTeX code of my dissertation is structured.
I hope it can be an inspiration for someone else.
As I used continuous integration to automatically build the PDF and check
PDF/A-1b validity, I will also talk about this in the end.</p>
<h1>Include vs. Input</h1>
<p>If you want to split your LaTeX code into multiple files you can use
'<code>\input</code>' or '<code>\include</code>'.</p>
<div class="highlight"><pre><span></span><code><span class="k">\input</span><span class="nb">{</span>mychapter<span class="nb">}</span>
</code></pre></div>

<p>will have the same effect as copying everything from <code>mychapter.tex</code> here.</p>
<div class="highlight"><pre><span></span><code><span class="k">\include</span><span class="nb">{</span>mychapter<span class="nb">}</span>
</code></pre></div>

<p>will create a page break before it includes the file. It does not work in the
preamble though. The benefit of <code>\include</code> is that you can put</p>
<div class="highlight"><pre><span></span><code><span class="k">\includeonly</span><span class="nb">{</span>mychapter, mychapter2<span class="nb">}</span>
</code></pre></div>

<p>in the preamble to only compile a selected subset of all chapters to make
compilation much faster. It does not mess up the references (e.g., table of
contents, bibliography, and glossary). This can be used if you work on a
specific chapter. I found this out at the end of writing my thesis.
That is why I put it in the beginning here. Don't make the same mistake.
This will save you lots of time.</p>
<p>I use <code>\input</code> for everything in the preamble (e.g., package imports,
glossary entries) and <code>\include</code> for my chapters.</p>
<h1>Document Class</h1>
<div class="highlight"><pre><span></span><code><span class="k">\documentclass</span>[
    draft=false,
    paper=a4,
    paper=portrait,
    pagesize=auto,
    fontsize=11pt,
    version=last,
    headings=twolinechapter,
    listof=totoc,
    listof=chapterentry]
<span class="nb">{</span>scrbook<span class="nb">}</span>
</code></pre></div>

<p>I highly recommend to use the book class of Koma-Script for a dissertation.
This is my configuration for the final document. One of the more obscure
options here is '<code>headings=twolinechapter</code>', which will print "Chapter X."
in a separate line before the title of a chapter.
'<code>listof=totoc,listof=chapterentry</code>' will add lists of tables and figures
as chapters to the table of contents.</p>
<p>I recommend to use Koma-Script in combination with the following package:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>scrhack<span class="nb">}</span>
</code></pre></div>

<p>This will fix some <a href="https://tex.stackexchange.com/questions/51867">common problems</a></p>
<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/scrbook">Documentation: Koma-Script ‘book’ class</a></li>
</ul>
<h1>Document Structure</h1>
<p>This is the overall structure of the LaTeX document.</p>
<p>A large document is often split into (1) something before the main text
(front matter), (2) main text (main matter), and (3) something after
the main text (back matter).</p>
<div class="highlight"><pre><span></span><code><span class="k">\documentclass</span><span class="nb">{</span>...<span class="nb">}</span>

<span class="c">% ... many imports and definitions here ...</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>

<span class="k">\frontmatter</span>
<span class="c">% title page(s)</span>
<span class="k">\tableofcontents</span>
<span class="c">% acknowledgments</span>
<span class="c">% abstract</span>
</code></pre></div>

<p>This is everything before the main text. '<code>\frontmatter</code>' will activate
roman page numbers and deactivate chapter numbering.</p>
<div class="highlight"><pre><span></span><code><span class="k">\mainmatter</span>

<span class="k">\part</span><span class="nb">{</span>Title<span class="nb">}</span>
<span class="k">\chapter</span><span class="nb">{</span>Title<span class="nb">}</span>
Text
<span class="k">\section</span><span class="nb">{</span>Title<span class="nb">}</span>
Text
<span class="k">\subsection</span><span class="nb">{</span>Title<span class="nb">}</span>
Text
<span class="k">\subsubsection</span><span class="nb">{</span>Title<span class="nb">}</span>
Text
</code></pre></div>

<p>'<code>\mainmatter</code>' will switch to Arabic page numbers and turn on chapter
numbering. So here we have all the main text with numerous subdivisions.
I avoided to have less than two subdivisions per level. If you have,
e.g., a section with only one subsection, you should think about whether
you really need a subsection here. You might want to integrate the subsection
in the section or make a new section instead of a subsection.</p>
<div class="highlight"><pre><span></span><code><span class="k">\appendix</span>
<span class="k">\chapter</span><span class="nb">{</span>Title<span class="nb">}</span>
</code></pre></div>

<p>'<code>\appendix</code>' will switch chapter numbering to letters.</p>
<div class="highlight"><pre><span></span><code><span class="k">\backmatter</span>

<span class="k">\printglossaries</span>
<span class="k">\listoffigures</span>
<span class="k">\listoftables</span>

<span class="k">\chapter</span><span class="nb">{</span>Bibliography<span class="nb">}</span>
<span class="k">\printbibliography</span><span class="na">[heading=none]</span>
<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</code></pre></div>

<p>'<code>\backmatter</code>' will turn of chapter numbering. Putting the list of figures
and tables to the end is unusual. These typically are part of the front
matter. I found it to distracting at the beginning though and put it to
the end. We will come to the glossary and the bibliography later.</p>
<p>Links:</p>
<ul>
<li><a href="https://tex.stackexchange.com/a/20547/221360">Explanation of document structure</a></li>
</ul>
<h1>Bibliography and Citations</h1>
<p>Although I used bibtex before, I chose to use biber and biblatex for my
thesis.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span>[
  style=alphabetic,
  natbib=true,
  backend=biber,
  maxnames=2,
  maxbibnames=99]<span class="nb">{</span>biblatex<span class="nb">}</span>
<span class="k">\addbibresource</span><span class="nb">{</span>literature.bib<span class="nb">}</span>
</code></pre></div>

<p>The main reason for this decision is that it allows to easily create
environments for which you can generate a specific bibliography. I used this
feature to generate for each chapter a list of corresponding publications.
Here is an example:</p>
<table>
<tr valign="top">
<td>
Code:

<div class="highlight"><pre><span></span><code><span class="k">\paragraph</span><span class="nb">{</span>Related Publications<span class="nb">}</span> <span class="k">\mbox</span><span class="nb">{}</span>

<span class="k">\begin</span><span class="nb">{</span>refsection<span class="nb">}</span>
<span class="k">\printbibliography</span><span class="na">[heading=none]</span>

Blablabla.
Blablabla <span class="k">\citep</span><span class="nb">{</span>key1<span class="nb">}</span>.
Blablabla.
Blablabla <span class="k">\citep</span><span class="nb">{</span>key2<span class="nb">}</span>.
Blablabla.
Blablabla <span class="k">\citep</span><span class="nb">{</span>key3<span class="nb">}</span>.
<span class="k">\end</span><span class="nb">{</span>refsection<span class="nb">}</span>
</code></pre></div>


</td>
<td>
Result:<br/>
<img src="images/diss_refsection.png" width=276px /> <!-- original width: 552 -->
</td>
</tr>
</table>

<p>The option '<code>natbib</code>' ensures that you can use '<code>\citep{key}</code>' to generate
citations of the form '(Names et al., Year)' and '<code>\citet{key}</code>' to generate
'Names et al. (Year)'.</p>
<p>Now you have to run '<code>biber documentname</code>' (without file ending) after the
first pass of your LaTeX engine. A useful feature of biber is that it can
also check your .bib files for validity with '<code>biber --tool -V literature.bib</code>'.</p>
<p>For better line breaks I used the command '<code>\sloppy</code>' before the complete
bibliography. Otherwise I had many lines (URLs, DOIs, etc.) that would go over
the text borders. It allows more space between words though.</p>
<p>Note that "[w]hen using babel [...] with biblatex, loading csquotes is recommended to
ensure that quoted texts are typeset according to the rules of your main
language." (<a href="https://tex.stackexchange.com/a/229653">source</a>)</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[english=american]</span><span class="nb">{</span>csquotes<span class="nb">}</span>
</code></pre></div>

<p><code>csquotes</code> is also good if you want to quote in the text:</p>
<div class="highlight"><pre><span></span><code><span class="k">\textcquote</span><span class="nb">{</span>CitationKey<span class="nb">}{</span>Some text here with ellipses at the end <span class="k">\textelp</span><span class="nb">{}}</span>
</code></pre></div>

<p>or as a new block:</p>
<div class="highlight"><pre><span></span><code><span class="k">\blockcquote</span><span class="na">[pages 100--101]</span><span class="nb">{</span>CitationKey<span class="nb">}{</span>Some long text.<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/biblatex">Package documentation: biblatex</a></li>
<li><a href="http://tug.ctan.org/info/biblatex-cheatsheet/biblatex-cheatsheet.pdf">Biblatex Cheat Sheet</a></li>
<li><a href="https://ctan.org/pkg/csquotes">Package documentation: csquotes</a></li>
</ul>
<h1>List of Abbreviations and Acronyms</h1>
<p>In smaller documents it is easy to keep track of abbreviations and whether you
already introduced them or not. With a document exceeding 100 pages I would
suggest to use tools that support a proper glossary. LaTeX can do this
automatically.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[toc]</span><span class="nb">{</span>glossaries<span class="nb">}</span>
</code></pre></div>

<p>To create a glossary you have to call</p>
<div class="highlight"><pre><span></span><code><span class="k">\makeglossaries</span>
</code></pre></div>

<p>in the document. Then you can define abbreviations with</p>
<div class="highlight"><pre><span></span><code><span class="k">\newacronym</span><span class="nb">{</span>MDP<span class="nb">}{</span>MDP<span class="nb">}{</span>Markov decision process<span class="nb">}</span>
</code></pre></div>

<p>Now</p>
<div class="highlight"><pre><span></span><code><span class="k">\gls</span><span class="nb">{</span>MDP<span class="nb">}</span> or <span class="k">\glspl</span><span class="nb">{</span>MDP<span class="nb">}</span>
</code></pre></div>

<p>will result in "Markov Decision Process (MDP) or MDPs" ('<code>\glspl</code>' means plural).
The abbreviation will be introduced once and then only the abbreviation will be
printed. No need to think about it. Later in the document you can print the
glossary with</p>
<div class="highlight"><pre><span></span><code><span class="k">\printglossaries</span>
</code></pre></div>

<p>The package option '<code>toc</code>' will add it to the table of contents.</p>
<p>Note that the external command '<code>makeglossaries documentname</code>' (without file
ending) has to be executed after the first pass of your LaTeX engine.</p>
<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/glossaries">Package documentation: glossaries</a></li>
</ul>
<h1>Document Layout</h1>
<p>There are several packages that can help you to fine-tune the layout.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>layout<span class="nb">}</span>
</code></pre></div>

<p>This package provides the command <code>\layout</code> that will print page layout
variables for your document. This is the result in my case (shows both sides):</p>
<p><img src="images/diss_layout.png" width=500px /></p>
<p>If you want to find out specific dimensions in the unit that you are
interested in, the following package is useful:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>layouts<span class="nb">}</span>
</code></pre></div>

<p>For example, put</p>
<div class="highlight"><pre><span></span><code><span class="k">\printinunitsof</span><span class="nb">{</span>mm<span class="nb">}</span><span class="k">\prntlen</span><span class="nb">{</span><span class="k">\textwidth</span><span class="nb">}</span>
<span class="k">\printinunitsof</span><span class="nb">{</span>mm<span class="nb">}</span><span class="k">\prntlen</span><span class="nb">{</span><span class="k">\textheight</span><span class="nb">}</span>
</code></pre></div>

<p>in the document for millimeter. I found it useful to find out the text
dimensions and then scale figures appropriately without rescaling them
in LaTeX.</p>
<p>A good way to check if there are any overfull horizontal boxes is the
'<code>showframe</code>' option of the geometry package:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[showframe]</span><span class="nb">{</span>geometry<span class="nb">}</span>
</code></pre></div>

<p>This will draw lines around the important areas of each page.</p>
<p><img src="images/diss_showframe.png" width=500px /></p>
<p>The following package allows you to draw a grid on every page to precisely
place elements.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[grid=true,gridBG=true]</span><span class="nb">{</span>eso-pic<span class="nb">}</span>
</code></pre></div>

<p><img src="images/diss_grid.png" width=500px /></p>
<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/layout">Package documentation: layout</a></li>
<li><a href="https://ctan.org/pkg/layouts">Package documentation: layouts</a></li>
<li><a href="https://ctan.org/pkg/eso-pic">Package documentation: eso-pic</a></li>
</ul>
<h1>The Mean Printer and Marginal Notes</h1>
<p>I printed my dissertation on my own. It turned out that the printer that I
used (with the specific driver that I used) didn't print 4.23 mm at each
side of the paper. Unfortunately, I had some marginal notes that the printer
wouldn't print completely; one and a half letter were missing. I fixed that
by setting</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[marginparwidth=75pt]</span><span class="nb">{</span>geometry<span class="nb">}</span>
</code></pre></div>

<p>after using the layout package to find out the previous <code>marginparwidth</code> and
converting 4.23 mm to pt according to <a href="https://tex.stackexchange.com/a/8337/221360">this table</a>.
Since there was now less space for the margin notes, LaTeX couldn't find
a good way to break lines and I modified my command to make notes on
the margin to</p>
<div class="highlight"><pre><span></span><code><span class="k">\newcommand</span><span class="nb">{</span><span class="k">\marginparc</span><span class="nb">}</span>[1]<span class="nb">{</span><span class="c">%</span>
<span class="k">\ifthispageodd</span>
<span class="nb">{</span><span class="k">\marginpar</span><span class="nb">{</span><span class="k">\raggedright\footnotesize</span> #1<span class="nb">}}</span>
<span class="nb">{</span><span class="k">\marginpar</span><span class="nb">{</span><span class="k">\raggedleft\footnotesize</span> #1<span class="nb">}}}</span>
</code></pre></div>

<p>which works only with Koma-Script in this form. The text is smaller and it is
aligned to the direction of the page's center. But the conclusion of this
should be: check the printer before you print!</p>
<h1>Encoding</h1>
<p>If you use pdflatex and have to write accented characters (and this is very
likely if you want to cite anything from authors with Portuguese, Spanish,
French, Italian, German, Danish, Norwegian, Swedish, Finnish, ... names) you
should better import the fontenc package before inputenc. It enables proper
hyphenation of words that contain accented characters and allows to copy those
characters from the output document. If you want to write your thesis in
UTF-8 you should import inputenc. This is not required if you build your
thesis with a UTF-8 based engine like lualatex though.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[T1]</span><span class="nb">{</span>fontenc<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[utf8]</span><span class="nb">{</span>inputenc<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/fontenc">Package documentation: fontenc</a></li>
<li><a href="https://ctan.org/pkg/inputenc">Package documentation: inputenc</a></li>
<li><a href="https://tex.stackexchange.com/a/677/221360">Why should I use fontenc?</a></li>
</ul>
<h1>Language</h1>
<p>This is required in my thesis because it is written in English but has a
German summary in the beginning because this is required by my university.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[ngerman,english]</span><span class="nb">{</span>babel<span class="nb">}</span>
</code></pre></div>

<p>Babel changes the language of a document, that is, translates "table of
contents", "chapter", citations, and dates if the default language is not
English. It will also apply proper hyphenation to the text. It is possible
to use multiple languages. The default language is the last option of the
package. We can switch to other languages per section with</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>otherlanguage<span class="nb">}{</span>ngerman<span class="nb">}</span>
Etwas Text in deutscher Sprache...
<span class="k">\end</span><span class="nb">{</span>otherlanguage<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/babel">Package documentation</a></li>
</ul>
<h1>Figures and Illustrations</h1>
<h2>Wide Image</h2>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>chngpage<span class="nb">}</span>
</code></pre></div>

<p>This is something that you usually should not do, but sometimes I found it
aesthetic to extend a figure a bit on one side:</p>
<div class="highlight"><pre><span></span><code><span class="k">\hfuzz</span>=100pt <span class="c">% suppress warnings</span>
<span class="k">\begin</span><span class="nb">{</span>adjustwidth<span class="nb">}{</span>-<span class="k">\evensidemargin</span>-0.8in<span class="nb">}{</span>-<span class="k">\rightmargin</span><span class="nb">}</span>
<span class="k">\includegraphics</span><span class="na">[width=0.92\paperwidth]</span><span class="nb">{</span>path<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>adjustwidth<span class="nb">}</span>
<span class="k">\hfuzz</span>=0pt
</code></pre></div>

<p>Note that this is for an image on a left page. On a right page
you have to play around with <code>\oddsidemargin</code> and <code>\leftmargin</code>.</p>
<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/chngpage">Package documentation: chngpage</a></li>
</ul>
<h2>Full Page Image</h2>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>floatpag<span class="nb">}</span>
</code></pre></div>

<p>This package provides the command '<code>\thisfloatpagestyle</code>' to remove the header
and the page number and I used it for large figures that fill an entire page.</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>figure<span class="nb">}</span>
<span class="k">\thisfloatpagestyle</span><span class="nb">{</span>empty<span class="nb">}</span>
<span class="k">\includegraphics</span><span class="na">[width=\textwidth]</span><span class="nb">{</span>figure<span class="nb">}</span>
<span class="k">\caption</span><span class="nb">{</span>Bla bla.<span class="k">\label</span><span class="nb">{</span>fig:bla<span class="nb">}}</span>
<span class="k">\end</span><span class="nb">{</span>figure<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://www.ctan.org/pkg/floatpag">Package documentation: floatpag</a></li>
</ul>
<h2>Barrier for Figures</h2>
<p>Precise figure placement is hard.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>placeins<span class="nb">}</span>
</code></pre></div>

<p>This package provides the command</p>
<div class="highlight"><pre><span></span><code><span class="k">\FloatBarrier</span>
</code></pre></div>

<p>that prevents floats from moving past this line.
I found this useful to force LaTeX to make a page with multiple figures.</p>
<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/placeins">Package documentation: placeins</a></li>
</ul>
<h2>Figure Surrounded by Text</h2>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>wrapfig<span class="nb">}</span>
</code></pre></div>

<p>Example (figure on the right side):</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>wrapfigure<span class="nb">}{</span>r<span class="nb">}{</span>0.5<span class="k">\textwidth</span><span class="nb">}</span>
<span class="k">\centering</span>
<span class="k">\includegraphics</span><span class="nb">{</span>figure<span class="nb">}</span>
<span class="k">\caption</span><span class="nb">{</span>Bla bla.<span class="k">\label</span><span class="nb">{</span>fig:bla<span class="nb">}}</span>
<span class="k">\end</span><span class="nb">{</span>wrapfigure<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/wrapfig">Package documentation: wrapfig</a></li>
</ul>
<h2>Multiple Subfigures</h2>
<p>In papers, you often see floats that consist of multiple figures that were
arranged manually, for example, with a tabular environment. You don't have
to do that. Use this package.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[caption=false]</span><span class="nb">{</span>subfig<span class="nb">}</span>
</code></pre></div>

<p>It provides the command '<code>\subfloat</code>':</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>figure<span class="nb">}</span>
<span class="k">\centering</span>
<span class="k">\subfloat</span><span class="na">[Caption of first subfigure.\label{fig:bla1}]</span>
<span class="nb">{</span><span class="k">\includegraphics</span><span class="na">[width=0.45\textwidth]</span><span class="nb">{</span>subfigure1<span class="nb">}}</span>
<span class="k">\hfill</span>
<span class="k">\subfloat</span><span class="na">[Caption of second subfigure.\label{fig:bla2}]</span>
<span class="nb">{</span><span class="k">\includegraphics</span><span class="na">[width=0.45\textwidth]</span><span class="nb">{</span>subfigure2<span class="nb">}}</span>
<span class="k">\caption</span><span class="nb">{</span>Caption of figure.<span class="k">\label</span><span class="nb">{</span>fig:bla<span class="nb">}}</span>
<span class="k">\end</span><span class="nb">{</span>figure<span class="nb">}</span>
</code></pre></div>

<p>If you have multiple subfigures with different heights it is difficult to
arrange them vertically. There is a package for that.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[export]</span><span class="nb">{</span>adjustbox<span class="nb">}</span>
</code></pre></div>

<p>Now, to arrange two figures vertically at the center, you can use the option
'<code>valign=m</code>' of '<code>\includegraphics</code>' that is provided by adjustbox and you
should add a phantom box of the size of the second figure to the first one.</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>figure<span class="nb">}</span>
<span class="k">\centering</span>
<span class="k">\subfloat</span><span class="na">[Bla 1.]</span>
<span class="nb">{</span><span class="c">%</span>
  <span class="k">\includegraphics</span><span class="na">[width=0.45\textwidth,valign=m]</span><span class="nb">{</span>subfigure1<span class="nb">}</span><span class="c">%</span>
  <span class="k">\vphantom</span><span class="nb">{</span><span class="k">\includegraphics</span><span class="na">[width=0.45\textwidth,valign=m]</span><span class="nb">{</span>subfigure2<span class="nb">}}</span><span class="c">%</span>
<span class="nb">}</span>
<span class="k">\hfill</span>
<span class="k">\subfloat</span><span class="na">[Bla 2.]</span>
<span class="nb">{</span><span class="k">\includegraphics</span><span class="na">[width=0.45\textwidth,valign=m]</span><span class="nb">{</span>subfigure2<span class="nb">}}</span>
<span class="k">\caption</span><span class="nb">{</span>Bla.<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>figure<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/subfig">Package documentation: subfig</a></li>
<li><a href="https://ctan.org/pkg/adjustbox">Package documentation: adjustbox</a></li>
<li><a href="https://tex.stackexchange.com/a/296625/221360">Vertical alignment</a></li>
</ul>
<h1>Tables</h1>
<h2>More Beautiful Tables</h2>
<p><a href="https://inf.ethz.ch/personal/markusp/teaching/guides/guide-tables.pdf">Here (in particular slide 8)</a>
is a good guide on how to make nice tables.</p>
<h2>Table over Multiple Pages</h2>
<p>In a few cases I had to make tables that are longer than one page.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>longtable<span class="nb">}</span>
</code></pre></div>

<p>You can define a table head that appears on every page
(everything before '<code>\endhead</code>').</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>longtable<span class="nb">}{</span>p<span class="nb">{</span>2cm<span class="nb">}</span>p<span class="nb">{</span>11.8cm<span class="nb">}}</span>
<span class="k">\toprule</span>  <span class="c">% you need the package &#39;booktabs&#39; for this</span>
A <span class="nb">&amp;</span> B<span class="k">\\</span>
<span class="k">\midrule</span>
<span class="k">\endhead</span>
1 <span class="nb">&amp;</span> 2<span class="k">\\</span>
1 <span class="nb">&amp;</span> 2<span class="k">\\</span>
1 <span class="nb">&amp;</span> 2<span class="k">\\</span>
1 <span class="nb">&amp;</span> 2<span class="k">\\</span>
<span class="k">\bottomrule</span>
<span class="k">\end</span><span class="nb">{</span>longtable<span class="nb">}</span>
</code></pre></div>

<p>The rules are defined in the package booktabs.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>booktabs<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/longtable">Package documentation: longtable</a></li>
<li><a href="https://ctan.org/pkg/booktabs">Package documentation: booktabs</a></li>
</ul>
<h1>Code Listing</h1>
<p>For code formatting I use the following package:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>listings<span class="nb">}</span>
</code></pre></div>

<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>algorithm<span class="nb">}</span>[t]
<span class="k">\begin</span><span class="nb">{</span>lstlisting<span class="nb">}</span>[language=Python,basicstyle=<span class="k">\footnotesize</span>]
import numpy as np
x = np.linspace(0, 1, 101)
<span class="k">\end</span><span class="nb">{</span>lstlisting<span class="nb">}</span>
<span class="k">\caption</span><span class="nb">{</span>Some code.<span class="nb">}</span>
<span class="k">\label</span><span class="nb">{</span>alg:example<span class="nb">}}</span>
<span class="k">\end</span><span class="nb">{</span>algorithm<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/listings">Package documentation: listings</a></li>
</ul>
<h1>Pseudocode</h1>
<p>I use the following two packages to typeset pseudocode.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>algorithm<span class="nb">}</span>
<span class="k">\usepackage</span><span class="nb">{</span>algpseudocode<span class="nb">}</span>
</code></pre></div>

<p>An algorithm in a float environment looks like this.</p>
<div class="highlight"><pre><span></span><code><span class="k">\begin</span><span class="nb">{</span>algorithm<span class="nb">}</span>
<span class="k">\begin</span><span class="nb">{</span>algorithmic<span class="nb">}</span>[1]
<span class="k">\Require</span> algorithm inputs here

<span class="k">\State</span> <span class="s">$</span><span class="nb">a </span><span class="nv">\gets</span><span class="nb"> </span><span class="m">5</span><span class="s">$</span><span class="k">\\</span>
<span class="k">\Comment</span><span class="nb">{</span>assign 5 to <span class="s">$</span><span class="nb">a</span><span class="s">$</span><span class="nb">}</span>

<span class="k">\While</span><span class="nb">{</span>not converged<span class="nb">}</span>
<span class="k">\State</span> <span class="s">$</span><span class="nb">b </span><span class="nv">\gets</span><span class="nb"> a </span><span class="o">+</span><span class="nb"> </span><span class="m">1</span><span class="s">$</span>
<span class="k">\For</span><span class="nb">{</span><span class="s">$</span><span class="nb">i </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\{</span><span class="m">1</span><span class="nb">, </span><span class="nv">\ldots</span><span class="nb">, N</span><span class="nv">\}</span><span class="s">$</span><span class="nb">}</span>
<span class="k">\State</span> <span class="s">$</span><span class="nb">b </span><span class="nv">\gets</span><span class="nb"> </span><span class="m">2</span><span class="nb"> b</span><span class="s">$</span>
<span class="k">\EndFor</span>
<span class="k">\EndWhile</span>
<span class="k">\end</span><span class="nb">{</span>algorithmic<span class="nb">}</span>
<span class="k">\caption</span><span class="nb">{</span>Caption.<span class="nb">}</span>
<span class="k">\label</span><span class="nb">{</span>alg:example<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>algorithm<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://en.wikibooks.org/wiki/LaTeX/Algorithms">Wikibook LaTeX on pseudocode</a></li>
</ul>
<h1>Math Fonts</h1>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>newtxmath<span class="nb">}</span>
<span class="c">%\usepackage{amssymb} % conflicts with newtxmath</span>
</code></pre></div>

<p>A font similar to Times New Roman for math. The package also provides several
typical mathematical symbols. Thus, it collides with <code>amssymb</code> and you can't
use both. This is how the result looks like:</p>
<p><img src="images/diss_math.png" width=336px /></p>
<p>To change the appearance of '<code>\mathcal</code>' I use the following package:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[mathcal]</span><span class="nb">{</span>euscript<span class="nb">}</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/newtx">Package documentation: newtxmath</a></li>
<li><a href="http://www.maths.usyd.edu.au/u/SMS/texdoc/euscript.pdf">Package documentation: euscript</a></li>
</ul>
<h1>SI Units</h1>
<p>For consistent appearance of units I highly recommend this package.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>siunitx<span class="nb">}</span>
</code></pre></div>

<p>Now you can write in your text:</p>
<div class="highlight"><pre><span></span><code><span class="k">\SI</span><span class="nb">{</span>1<span class="nb">}{</span><span class="k">\metre</span><span class="nb">}</span>
<span class="k">\SI</span><span class="nb">{</span>2<span class="nb">}{</span><span class="k">\centi\meter</span><span class="nb">}</span>
</code></pre></div>

<p>and much more complex units. You also don't have to think about whether
you had put a space between the number and the unit before. The package
automatically does this for you.</p>
<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/siunitx">Package documentation: siunitx</a></li>
</ul>
<h1>Todo Notes</h1>
<p>I found it useful to put notes in the PDF output.</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="nb">{</span>todonotes<span class="nb">}</span>
</code></pre></div>

<p>Use the option <code>[disable]</code> for final version.</p>
<div class="highlight"><pre><span></span><code><span class="k">\todo</span><span class="nb">{</span>this will create a note on the margin<span class="nb">}</span>
<span class="k">\todo</span><span class="na">[inline]</span><span class="nb">{</span>this will create a comment in the text<span class="nb">}</span>
</code></pre></div>

<p>You can also print a list of all notes with</p>
<div class="highlight"><pre><span></span><code><span class="k">\listoftodos</span>
</code></pre></div>

<p>Links:</p>
<ul>
<li><a href="https://ctan.org/pkg/todonotes">Package documentation: todonotes</a></li>
</ul>
<h1>Beginning of a Chapter</h1>
<p>I like to put a related quote at the beginning of a chapter. You can do
that with the scrbook class.</p>
<table>
<tr valign="top">
<td>
Code:

<div class="highlight"><pre><span></span><code><span class="k">\renewcommand</span><span class="nb">{</span><span class="k">\dictumwidth</span><span class="nb">}{</span>0.66<span class="k">\textwidth</span><span class="nb">}</span>
<span class="k">\dictum</span><span class="na">[\citet{Asada1996}]</span><span class="nb">{</span><span class="c">%</span>
The ultimate goal of AI and Robotics is to realize autonomous agents that
organize their own internal structure in order to behave adequately with
respect to their goals and the world.<span class="k">\\\textbf</span><span class="nb">{</span>That is, they learn.<span class="nb">}}</span>
</code></pre></div>


</td>
<td>
Result:<br/>
<img src="images/diss_begin_chapter_1.png" width=276px /> <!-- original width: 552 -->
</td>
</tr>
</table>

<p>Another chapter looks like this at the beginning:</p>
<p><img src="images/diss_begin_chapter_4.png" width=385px /> <!-- original width: 552 --></p>
<p>There are two elements here. The first one is the style of the heading,
which can be defined in scrbook like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">\definecolor</span><span class="nb">{</span>chaptercolor<span class="nb">}{</span>RGB<span class="nb">}{</span>152,152,152<span class="nb">}</span>
<span class="k">\renewcommand*\chapterheadstartvskip</span><span class="nb">{</span><span class="k">\vspace*</span><span class="nb">{</span>45pt<span class="nb">}}</span>
<span class="k">\renewcommand*</span><span class="nb">{</span><span class="k">\chapterformat</span><span class="nb">}{</span><span class="c">%</span>
  <span class="k">\parbox</span><span class="nb">{</span><span class="k">\textwidth</span><span class="nb">}{</span><span class="k">\hfill\fontsize</span><span class="nb">{</span>35.83<span class="nb">}{</span>42<span class="nb">}</span><span class="k">\selectfont\color</span><span class="nb">{</span>chaptercolor<span class="nb">}</span><span class="k">\chapappifchapterprefix</span><span class="nb">{</span><span class="k">\</span> <span class="nb">}</span><span class="k">\bfseries\thechapter\autodot\enskip</span><span class="nb">}}</span>
<span class="k">\addtokomafont</span><span class="nb">{</span>disposition<span class="nb">}{</span><span class="k">\normalfont\bfseries</span><span class="nb">}</span>
<span class="k">\addtokomafont</span><span class="nb">{</span>chapterprefix<span class="nb">}{</span><span class="k">\mdseries</span><span class="nb">}</span>
</code></pre></div>

<p>The image at the top is included with <code>tikz</code>:</p>
<div class="highlight"><pre><span></span><code><span class="c">% before document:</span>
<span class="k">\usepackage</span><span class="nb">{</span>tikz<span class="nb">}</span>
<span class="c">% include image:</span>
<span class="k">\tikz</span><span class="na">[remember picture,overlay]</span> <span class="k">\node</span><span class="na">[opacity=0.75,inner sep=0pt]</span> at (8,6.95)<span class="nb">{</span><span class="k">\includegraphics</span><span class="na">[width=\paperwidth]</span><span class="nb">{</span>image<span class="nb">}}</span>;
</code></pre></div>

<p>If you want to do this, the image should of course be somewhat related to the
content of the chapter.</p>
<h1>Widows and Orphans</h1>
<p>"In typesetting, widows and orphans are lines at the beginning or end of a
paragraph which are left dangling at the top or bottom of a page or column,
separated from the rest of the paragraph."
(<a href="https://en.wikipedia.org/w/index.php?title=Widows_and_orphans&amp;oldid=971706849">Wikipedia</a>)
A single line at the top or bottom of a page is just not aesthetic and we want
to avoid that. The simplest trick is to set high penalties for them globally in
the preamble (which means before '<code>\begin{document}</code>'):</p>
<div class="highlight"><pre><span></span><code><span class="c">% penalizes orphans</span>
<span class="k">\clubpenalty</span>=10000
<span class="c">% penalizes widows</span>
<span class="k">\widowpenalty</span>=10000
<span class="c">% penalizes widows that are immediately followed by a formula \[ ... \]</span>
<span class="k">\displaywidowpenalty</span>=10000
</code></pre></div>

<p>Another trick that I used often is to enlarge a page by one line with</p>
<div class="highlight"><pre><span></span><code><span class="k">\enlargethispage</span><span class="nb">{</span><span class="k">\baselineskip</span><span class="nb">}</span>
</code></pre></div>

<p>It looks better if both the left and right page have the same length,
so I typically extended them both.</p>
<p>Links:</p>
<ul>
<li><a href="http://www.texfaq.org/FAQ-widows">Widows (TeXFAQ)</a></li>
</ul>
<h1>Prior Publications</h1>
<p>Although my dissertation is a monograph, large parts of it have been
published before. Prior publication must be indicated. This is good
scientific practice. Otherwise, for example, survey papers can be
distorted. I put marginal notes at the beginning of a chapter or
section that refer to publications that the text is based on.
At the end of each chapter the corresponding publications are listed.
At the same place I describe my contributions and the contributions of
my co-authors.</p>
<h1>PDF/A-1b</h1>
<p>My library requires a specific format for electronic publication of the thesis:
<a href="https://en.wikipedia.org/wiki/PDF/A#PDF/A-1">PDF/A-1b</a>.</p>
<p>The first step to ensure that your document is compatible is to test for
compatibility. There are many tools out there that claim to enable this but
many of them don't actually work. The tool that I relied on in the end is
<a href="https://verapdf.org/">veraPDF</a>. Since it is used more as a GUI tool, I had
to find something that has a similar functionality but works from a command
line to integrate it into continuous integration. For that I use Apache
preflight 1.8.16 (available <a href="https://pdfbox.apache.org/download.cgi">here</a>),
which was compatible to the package <code>openjdk-13-jdk</code> that I used in my Ubuntu
20.04 docker image that I used for continuous integration. I had problems
setting up preflight 2.X. Although preflight complains about some issues that
veraPDF does not see, these can be ignored so that I could test for PDF/A-1b
during continuous integration with good enough certainty.</p>
<p>If you only want to check whether all fonts are embedded, you can use</p>
<div class="highlight"><pre><span></span><code>pdffonts<span class="w"> </span>document.pdf
</code></pre></div>

<p>and check the column <em>emb</em>.</p>
<p>The main problem with PDF/A-1b compatibility are PDF figures. I work a lot
with <a href="https://inkscape.org/">inkscape</a> for illustrations and
<a href="https://matplotlib.org/">matplotlib</a> for plots. My solution for this problem
is to use ghostscript to convert every PDF that is included in the main
document to PDF/A-1b:</p>
<div class="highlight"><pre><span></span><code>gs<span class="w"> </span>-dPDFA<span class="w"> </span>-dBATCH<span class="w"> </span>-dNOPAUSE<span class="w"> </span>-dNOOUTERSAVE<span class="w"> </span>-sColorConversionStrategy<span class="o">=</span>UseDeviceIndependentColor<span class="w"> </span>-sProcessColorModel<span class="o">=</span>DeviceCMYK<span class="w"> </span>-sDEVICE<span class="o">=</span>pdfwrite<span class="w"> </span>-sPDFACompatibilityPolicy<span class="o">=</span><span class="m">1</span><span class="w"> </span>-sOutputFile<span class="o">=</span>output_figure.pdf<span class="w"> </span>input_figure.pdf
</code></pre></div>

<p>To make the main LaTeX document compatible I use the package pdfx, which
already takes care of a lot of problems and should be important almost
at the beginning:</p>
<div class="highlight"><pre><span></span><code><span class="k">\usepackage</span><span class="na">[a-1b]</span><span class="nb">{</span>pdfx<span class="nb">}</span>
</code></pre></div>

<p><a href="https://ctan.org/pkg/pdfx">Package documentation: pdfx</a></p>
<p>However, this is not enough to fix all problems in my case so that I also had
to let ghostscript convert the whole document.</p>
<h1>Continuous Integration</h1>
<p>I used git for version control and continuous integration to automatically
build and validate the latest version of my thesis.
I set up a docker container based on a recent Ubuntu to match my system.</p>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span><span class="w"> </span><span class="s">ubuntu:20.04</span>

<span class="k">ENV</span><span class="w"> </span><span class="nv">DEBIAN_FRONTEND</span><span class="o">=</span>noninteractive
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span>-qq<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>texlive-full<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>libreoffice<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>pandoc<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>git<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>wget<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sudo<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>openjdk-13-jdk<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>poppler-utils<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>ghostscript<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>pdftk
<span class="k">RUN</span><span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/opt/bin
<span class="k">COPY</span><span class="w"> </span>preflight-app-1.8.16.jar<span class="w"> </span>/opt/bin/preflight-app-1.8.16.jar
</code></pre></div>

<p>You certainly don't need all of these packages (e.g., libreoffice or pdftk).
As mentioned previously, preflight was used to check PDF/A-1b compatibility.
The docker image is also available as '<code>af01/dissertation</code>' from dockerhub.</p>
<p>I used GitLab CI. My setup looks similar to this (some checks are omitted):</p>
<div class="highlight"><pre><span></span><code><span class="nt">stages</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">generate</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postprocessing</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">evaluate</span>

<span class="nt">genpdf</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">generate</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">af01/dissertation</span>
<span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pdflatex -interaction=nonstopmode dissertation.tex</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">biber dissertation</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">makeglossaries dissertation</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pdflatex -interaction=nonstopmode dissertation.tex</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pdflatex -interaction=nonstopmode dissertation.tex</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cat dissertation.log</span>
<span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$CI_PROJECT_DIR/dissertation.pdf</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$CI_PROJECT_DIR/dissertation.xmpdata</span>
<span class="w">    </span><span class="nt">expire_in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2 weeks</span>
<span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker</span>

<span class="nt">postprocesspdfa</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postprocessing</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">af01/dissertation</span>
<span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scripts/convert_pdfa.sh dissertation dissertation_pdfa</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cp dissertation.xmpdata dissertation_pdfa.xmpdata</span>
<span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$CI_PROJECT_DIR/dissertation_pdfa.pdf</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$CI_PROJECT_DIR/dissertation_pdfa.xmpdata</span>
<span class="w">    </span><span class="nt">expire_in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4 days</span>
<span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker</span>

<span class="nt">checkpdfa</span><span class="p">:</span>
<span class="w">  </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">evaluate</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">af01/dissertation</span>
<span class="w">  </span><span class="nt">script</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">java -jar /opt/bin/preflight-app-1.8.16.jar dissertation_pdfa.pdf &gt; pdfareport.txt || echo &quot;Preflight report is not empty&quot;</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cat pdfareport.txt</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scripts/check_pdfareport.sh pdfareport.txt</span>
<span class="w">  </span><span class="nt">artifacts</span><span class="p">:</span>
<span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$CI_PROJECT_DIR/pdfareport.txt</span>
<span class="w">    </span><span class="nt">expire_in</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1 week</span>
<span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span>
<span class="w">  </span><span class="nt">tags</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">docker</span>
</code></pre></div>

<h1>Source Code</h1>
<p>The source code of my thesis without images and literature is available
<a href="../downloads/public_source.zip">here</a>.</p>
    <footer>
      <p>Published: <time datetime="2020-10-04T14:00:00+02:00">
        So 04 Oktober 2020
      </time></p>
        <address>
          By             <a href="https://alexanderfabisch.github.io/author/alexander-fabisch.html">Alexander Fabisch</a>
        </address>
        <p>
          Category: <a href="https://alexanderfabisch.github.io/category/blog.html">Blog</a>
        </p>
    </footer>
  </article>
    </main>
    <footer>
      <address>
        Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>,
        which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
      </address>
    </footer>
  </body>
</html>